<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>HabiticaMagicJS - Demo</title>
	<meta name="description" content="HabiticaMagicJS - Demo">
	<meta name="author" content="@delightedCrow & @ArrayOfFrost">
	<link rel="stylesheet" href="demo.css">
	<link href="https://fonts.googleapis.com/css?family=Rubik&display=swap" rel="stylesheet">
	<script src="demo.js"></script>
</head>

<body>
	<h1>HabiticaMagicJS - Demo</h1>
	<p>This demo uses <a href="https://github.com/delightedCrow/HabiticaMagic">HabiticaMagicJS</a> to get user profile data from the Habitica API (and Nunjucks to render HTML templates).</p>
	<p>The CSS and design were lovingly pilfered from our other project, <a href="https://github.com/delightedCrow/MMM-HabiticaStats">MMM-HabiticaStats</a>.</p>
	<div>
		<fieldset>
			<label for="userID-field">Enter a Habitica UserID:</label>
			<div class="inputs">
				<input type="text" value="fe3a326e-eba8-462a-968e-b97ab79336f5" id="userID-field"/>
				<button class="submit" type="submit" onclick="demo.fetchUser()">Submit</button>
			</div>
		</fieldset>
	</div>
	<div id="profile-content"></div>

	<div id="profile-template" class="template">
		<div class="title-header">
			 <i class="hi-melior"></i>
			<h2 class="light">{{user.displayName}}</h2>
			<div class="spacer"></div>
		</div>
		<div class="main-stats clearfix">
			<span class="level"><i class="hi-class hi-{{user.className}} habitica-icon small-stat-icon"></i>{{user.className}} <span class="middot-separator">&middot;</span> Level {{user.level}}
			</span>
			<span class="wealth-group">
				<i class="small-stat-icon hi-gold habitica-icon"></i>{{user.goldCompact}}<span class="unit">gold</span>
			</span>
		</div>
		<div class="bio">
			<p><span class="title">bio:</span> {% if user.bio %}{{ user.bio }}{% else %} This user doesn't have a bio, but we think it's a safe bet that they're awesome.{% endif %}</p>
		</div>
		<div class="rings clearfix">
			<div class="stat-ring">
				<div class="title">Health</div>
				<i class="stat-icon hi-health habitica-icon"></i>
				<svg viewBox="0 0 39 39" class="circular-chart">
					<circle class="shadow-circle" cx="50%" cy="50%" r="15.9155"/>
					<circle class="circle health" stroke-dasharray="{{user.health / user.healthMax * 100}}, 100" cx="50%" cy="50%" r="15.9155"/>
				</svg>
				<div class="ring-stats">
					<span class="current-stat">{{user.health}}</span> <span class="max-stat">/ {{user.healthMax}}</span>
				</div>
			</div>

			<div class="stat-ring">
				<div class="title">Mana</div>
				<i class="stat-icon hi-mana habitica-icon"></i>
				<svg viewBox="0 0 39 39" class="circular-chart">
					<circle class="shadow-circle" cx="50%" cy="50%" r="15.9155"/>
					<circle class="circle mana" stroke-dasharray="{{user.mana / user.manaMax * 100}}, 100" cx="50%" cy="50%" r="15.9155"/>
				</svg>
				<div class="ring-stats">
					<span class="current-stat">{{user.mana}}</span> <span class="max-stat">/ {{user.manaMax}}</span>
				</div>
			</div>

			<div class="stat-ring">
				<div class="title">Experience</div>
				<i class="stat-icon hi-experience habitica-icon"></i>
				<svg viewBox="0 0 39 39" class="circular-chart">
					<circle class="shadow-circle" cx="50%" cy="50%" r="15.9155"/>
					<circle class="circle experience" stroke-dasharray="{{user.experience / user.experienceToLevel * 100}}, 100" cx="50%" cy="50%" r="15.9155"/>
				</svg>
				<div class="ring-stats">
					<span class="current-stat">{{user.experience}}</span> <span class="max-stat">/ {{user.experienceToLevel}}</span>
				</div>
			</div>
		</div>

	</div>
	<div id="error-template" class="template">
		<p>An error: {{ data }}</p>
	</div>
	<script src="../../dist/HabiticaMagic-v2.0.0.js"></script>
	<script src="https://mozilla.github.io/nunjucks/files/nunjucks.js"></script>
</body>
</html>
